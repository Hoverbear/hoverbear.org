<!DOCTYPE html>
<html>
<head>
    <!-- Fun compatability things -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="shortcut icon" href="https:&#x2F;&#x2F;hoverbear.org/images/favicon.ico">

    <!-- Information about this site -->
    <title>
        Hoverbear
    </title>
    <meta name="description"
        content="A computer scientist working in open source towards a more hopeful future." />

    <!-- Various Twitter related content. -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;bc53a992eae12b8000.jpg" />
    <meta property='og:image' content="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;bc53a992eae12b8000.jpg" />
    <meta name="twitter:site" content="@a_hoverbear" />
    <meta name="twitter:creator" content="@a_hoverbear" />
    <link rel="me" href="https:&#x2F;&#x2F;hachyderm.io&#x2F;@ana">

    <meta name="twitter:title"
        content="Hoverbear" />
    <meta property='og:title'
        content="Hoverbear" />

    <meta property='og:url'
        content="https:&amp;amp;#x2F;&amp;amp;#x2F;hoverbear.org" />

    <meta name="twitter:description"
        content="A computer scientist working in open source towards a more hopeful future." />
    <meta property='og:description'
        content="A computer scientist working in open source towards a more hopeful future." />


    <!-- Talk about the homepage and the rss feed. -->
    <link rel="canonical"
        href="https:&amp;amp;#x2F;&amp;amp;#x2F;hoverbear.org">
    <link rel="alternate" type="application/rss+xml" href="https:&#x2F;&#x2F;hoverbear.org/rss.xml">

    <!-- Stylesheets are fun -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Delius&family=Fira+Code&family=Noto+Sans&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen" href="https:&#x2F;&#x2F;hoverbear.org/main.css" />

    <!-- Katex -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css"
        integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js"
        integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O"
        crossorigin="anonymous"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js"
        integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
</head>

<body>
    
<div id="hero-wrapper">
    <figure class="enriched " style="">
       <figcaption>Photo&nbsp;- <a href="https://unsplash.com/photos/-N0cgDSF_MI">Kobi Li</a></figcaption>
       

<img srcset="
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;fd9cec75a970c38f00.jpg 1920w,
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;bc53a992eae12b8000.jpg 3840w
              " sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px" src="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;fd9cec75a970c38f00.jpg" alt="Photo" />
</figure>
</div>
<header>
    <div class="content">
        <h1 id="main-title"><a id="main-link" href="https:&#x2F;&#x2F;hoverbear.org">
                Hoverbear
            </a></h1><script defer async>
            (function internationalize_hoverbear() {
                const data = {"english":{"display":"Hoverbear","pronounce":"Hoverbear"},"farsi":{"display":"خرس بالزن","pronounce":"khers-e-balzan"},"kannada":{"display":"ಹಾರುವ ಕರಡಿ","pronounce":"Haruva Karadi"},"urdu":{"display":"منڈلاتا ہوا ریچھ","pronounce":"Mandlata Hua Reech"},"hindi":{"display":"मंडराता भालू","pronounce":"Mandaraata bhaloo"},"telugu":{"display":"ఎగిరే ఎలుగుబంటి","pronounce":"Egire elugubaṇṭi"},"tamil":{"display":"பறக்கும் கரடி","pronounce":"Parakkum karadi"},"punjabi":{"display":"ਮੰਡਰਾਉਂਦਾ ਰਿੱਛ","pronounce":"Mandaraunda richh"},"marathi":{"display":"उडतं अस्वल","pronounce":"Udta aswal"},"malayalam":{"display":"പറക്കുന്ന കരടി","pronounce":"Parakkunna karadi"},"odia":{"display":"ଉଡ଼ନ୍ତା ଭାଲୁ","pronounce":"Udawntaa bhaalu"},"nepali":{"display":"Udne bhaalu","pronounce":"Udne bhaalu"},"mandarin":{"display":"飘飘熊","pronounce":"Piāo piāo xióng"},"german":{"display":"Schwebebär","pronounce":"Schwebebär"},"russian":{"display":"Парящий Медведь","pronounce":"Paryashchiy Medved"},"latvian":{"display":"Gaudotājlācis","pronounce":"Gaudotājlācis"},"dutch":{"display":"Zweefbeer","pronounce":"Zweefbeer"},"euskara":{"display":"Flotatzen duen hartza","pronounce":"Flotatzen duen hartza"},"polish":{"display":"Latający Miś","pronounce":"Latający Miś"},"swedish":{"display":"Svävarbjörn","pronounce":"Svävarbjörn"},"spanish":{"display":"Oso Flotante","pronounce":"Oso Flotante"},"portuguese":{"display":"Urso Flutuante","pronounce":"Urso Flutuante"},"hebrew":{"display":"דב מרחף","pronounce":"Dov Merahef"},"finnish":{"display":"Leijukarhu","pronounce":"Leijukarhu"},"ingush":{"display":"ГӀетта ча","pronounce":"Ghetta cha"}};
            const langs = Object.keys(data);
            let current_lang = "english";
            let num_languages = langs.length;
            window.setInterval(function () {
                let new_lang;
                // Guard against same result.
                do {
                    new_lang = langs[Math.floor(Math.random() * num_languages)];
                } while (current_lang == new_lang);

                let new_display = data[new_lang].display;
                let main_title = document.getElementById("main-link");
                let old_animation = main_title.style.animation;
                // Reflow
                main_title.style.opacity = 0;
                main_title.style.animation = 'none';
                main_title.offsetHeight;
                main_title.style.animation = old_animation;
                main_title.innerText = `${new_display}`;
            }, 5000);
                }) ()
        </script>

        <nav id="tree">
    <ul>
        </ul>
</nav>

        <div class="metadata">
            <h5 class="description">
                A computer scientist working in open source towards a more hopeful future.
            </h5>

            
        </div>
    </div>
</header>

<main>
    
    
<section>
    <h2><a href="https:&#x2F;&#x2F;hoverbear.org&#x2F;tags&#x2F;postgresql&#x2F;">PostgreSQL</a></h2>
    
    <section>
	<h2 class="post-title"><a href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;debugging-pgx-extensions&#x2F;">Visually debugging PGX extensions</a></h2>
	<h5 class="description">Using Visual Studio Code and LLDB to debug PGX extensions</h5>
	<div class="excerpt">
		<p>Rust spoils me, I rarely need to reach for a debugger thanks to structured logging via <a rel="noopener" target="_blank" href="https://docs.rs/tracing/"><code>tracing</code></a> and errors with spantraces thanks to <a rel="noopener" target="_blank" href="https://docs.rs/eyre/"><code>eyre</code></a>. When I do find myself wanting to really dig my grubby little paws into some code, configuring the debugger targets can feel intimidating.</p>
<p>Experience has taught me that I can conquer intimidating things though, and sometimes that is best done with a little help. While hacking on a <a rel="noopener" target="_blank" href="https://github.com/tcdi/pgx"><code>pgx</code></a> bug, I realized I was using a newly installed system, and needed to reconfigure my debugger settings.</p>
<p>This made a good opportunity for me to share with you! This short article will cover how to configure <a rel="noopener" target="_blank" href="https://code.visualstudio.com/">Visual Studio Code</a> with <a rel="noopener" target="_blank" href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">CodeLLDB</a> so you can visually debug your <a rel="noopener" target="_blank" href="https://github.com/tcdi/pgx"><code>pgx</code></a> extensions. This includes being able to step into the <a rel="noopener" target="_blank" href="https://github.com/tcdi/pgx"><code>pgx</code></a> or <a rel="noopener" target="_blank" href="https://github.com/postgres/postgres"><code>postgres</code></a> sources. While the instructions may be <a rel="noopener" target="_blank" href="https://archlinux.org/">Arch Linux</a> specific, they should be able to be adapted to a different Linux.</p>

		<a class="continue-reading" href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;debugging-pgx-extensions&#x2F;#continue-reading">Continue reading...</a>
	</div>

	<div class="post-meta"><div class="posted-on">
			<time datetime=" 2022-06-23 00:00">2022-06-23</time>
		</div><div class="reading-time">
			10 min
		</div>
		<div class="tags"><a href="https:&#x2F;&#x2F;hoverbear.org/tags/rust">Rust</a>,&nbsp;<a href="https:&#x2F;&#x2F;hoverbear.org/tags/postgresql">PostgreSQL</a>,&nbsp;and&nbsp;<a href="https:&#x2F;&#x2F;hoverbear.org/tags/arch linux">Arch Linux</a></div>
	</div>
</section>
    
    <hr>
    
    
    <section>
	<h2 class="post-title"><a href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;postgresql-aggregates-with-rust&#x2F;">PostgreSQL Aggregates with Rust</a></h2>
	<h5 class="description">Writing custom Aggregates for statistical or analytical purposes.</h5>
	<div class="excerpt">
		<p>Reaching for something like <code>SUM(vals)</code> or <code>AVG(vals)</code> is a common habit when using PostgreSQL. These <a rel="noopener" target="_blank" href="https://www.postgresql.org/docs/current/functions-aggregate.html">aggregate functions</a> offer users an easy, efficient way to compute results from a set of inputs.</p>
<p>How do they work? What makes them different than a function? How do we make one? What kinds of other uses exist?</p>
<p>We'll explore creating some basic ones using SQL, then create an extension that defines aggregates in Rust using <a rel="noopener" target="_blank" href="https://github.com/zombodb/pgx"><code>pgx</code></a> 0.3.0's new aggregate support.</p>

		<a class="continue-reading" href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;postgresql-aggregates-with-rust&#x2F;#continue-reading">Continue reading...</a>
	</div>

	<div class="post-meta"><div class="posted-on">
			<time datetime=" 2022-02-09 00:00">2022-02-09</time>
		</div><div class="reading-time">
			21 min
		</div>
		<div class="tags"><a href="https:&#x2F;&#x2F;hoverbear.org/tags/rust">Rust</a>&nbsp;and&nbsp;<a href="https:&#x2F;&#x2F;hoverbear.org/tags/postgresql">PostgreSQL</a></div>
	</div>
</section>
    
    <hr>
    
    
    <section>
	<h2 class="post-title"><a href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;forging-sql-from-rust&#x2F;">Forging SQL from Rust</a></h2>
	<h5 class="description">How <code>pgx</code> creates PostgreSQL extension SQL definitions that bind to Rust.</h5>
	<div class="excerpt">
		<p>PostgreSQL offers an extension interface, and it's my belief that Rust is a fantastic language to write extensions for it. <a rel="noopener" target="_blank" href="https://twitter.com/zombodb">Eric Ridge</a> thought so too, and started <a rel="noopener" target="_blank" href="https://github.com/zombodb/pgx"><code>pgx</code></a> awhile back. I've been working with him to improve the toolkit, and wanted to share about one of our latest hacks: improving the generation of extension SQL code to interface with Rust.</p>
<p>This post is more on the advanced side, as it assumes knowledge of both Rust and PostgreSQL. We'll approach topics like foreign functions, dynamic linking, procedural macros, and linkers.</p>

		<a class="continue-reading" href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;forging-sql-from-rust&#x2F;#continue-reading">Continue reading...</a>
	</div>

	<div class="post-meta"><div class="posted-on">
			<time datetime=" 2021-09-20 00:00">2021-09-20</time>
		</div><div class="reading-time">
			21 min
		</div>
		<div class="tags"><a href="https:&#x2F;&#x2F;hoverbear.org/tags/rust">Rust</a>&nbsp;and&nbsp;<a href="https:&#x2F;&#x2F;hoverbear.org/tags/postgresql">PostgreSQL</a></div>
	</div>
</section>
    
    <hr>
    
    
    <section>
	<h2 class="post-title"><a href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;postgresql-hierarchical-structures&#x2F;">Hierarchical Structures in PostgreSQL</a></h2>
	<h5 class="description">Modelling hierarchical/team/categorical/tag data with arbitrary depths.</h5>
	<div class="excerpt">
		<p>It's a common pattern: a database developer at a startup is probably on the Product subteam of the Engineering team at their company. In a department store, shoes are a subcategory of clothing, while your favorite thermos is probably in the travel department.</p>
<p>In any Github organization, there are teams within teams within teams. In any large department store there are categories deeply nested. In any recipe book, there are many ways to classify food.</p>
<p>So how can we model them?</p>

		<a class="continue-reading" href="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;postgresql-hierarchical-structures&#x2F;#continue-reading">Continue reading...</a>
	</div>

	<div class="post-meta"><div class="posted-on">
			<time datetime=" 2020-01-19 00:00">2020-01-19</time>
		</div><div class="reading-time">
			7 min
		</div>
		<div class="tags"><a href="https:&#x2F;&#x2F;hoverbear.org/tags/tutorials">Tutorials</a>&nbsp;and&nbsp;<a href="https:&#x2F;&#x2F;hoverbear.org/tags/postgresql">PostgreSQL</a></div>
	</div>
</section>
    
    
</section>

</main>
<footer class="post-footer">
    Connect through &nbsp<a href="mailto:operator@hoverbear.org">operator@hoverbear.org</a>,&nbsp;
    <a href="https://github.com/hoverbear">@hoverbear</a> on Github,&nbsp;
    <a rel="me" href="https:&#x2F;&#x2F;hachyderm.io&#x2F;@ana">@ana@hachyderm.io</a> on Mastodon,</a>&nbsp;
    <a href="https://twitter.com/a_hoverbear">@a_hoverbear</a> on Twitter,</a>&nbsp;
    or track via <a class="subscribe" href="https:&#x2F;&#x2F;hoverbear.org/rss.xml">RSS Feed</a>.
</footer>
<pre
        class="artifact"><a id="commit" href="https://github.com/Hoverbear/hoverbear.org/commit/b02e39c97e8cd97af0dc22833ad0f0ad8744d237
">b02e39c97e8cd97af0dc22833ad0f0ad8744d237
</a></pre></body>

</html>