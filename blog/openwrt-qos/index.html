<!DOCTYPE html>
<html>
    <head>
        <!-- Fun compatability things -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge">                  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="shortcut icon" href="https:&#x2F;&#x2F;hoverbear.org/images/favicon.ico">
    
        <!-- Information about this site -->
        <title>OpenWRT QoS
        </title>
        <meta name="description" content="A computer scientist working in open source towards a more hopeful future." />
    
        <!-- Various Twitter related content. -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;bc53a992eae12b8000.jpg"/>
        <meta property='og:image' content="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;bc53a992eae12b8000.jpg"/>
        <meta name="twitter:site" content="@a_hoverbear"/>
        <meta name="twitter:creator" content="@a_hoverbear"/>
        
        
            <meta name="twitter:title" content="OpenWRT QoS"/>
            <meta property='og:title' content="OpenWRT QoS"/>
        

        
            <meta property='og:url' content="https:&#x2F;&#x2F;hoverbear.org&#x2F;blog&#x2F;openwrt-qos&#x2F;"/>
        

        
            <meta name="twitter:description" content="Using the setup from my last two posts, let&#x27;s play with some QoS parameters and observe the results.

The documentation for OpenWRT&#x27;s QoS is rather lacking, please feel encouraged to improve it as you go!

"/>
            <meta property='og:description' content="Using the setup from my last two posts, let&#x27;s play with some QoS parameters and observe the results.

The documentation for OpenWRT&#x27;s QoS is rather lacking, please feel encouraged to improve it as you go!

"/>
        
    
        <!-- Talk about the homepage and the rss feed. -->
        <link rel="canonical" href="https:&#x2F;&#x2F;hoverbear.org">
        <link rel="alternate" type="application/rss+xml" href="https:&#x2F;&#x2F;hoverbear.org/rss.xml">
    
        <!-- Stylesheets are fun -->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Delius&family=Fira+Code&family=Noto+Sans&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" media="screen" href="https:&#x2F;&#x2F;hoverbear.org/main.css" />
    
        <!-- Katex -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
        <!-- To automatically render math in text elements, include the auto-render extension: -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js" integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    </head>
    

    <body>
        
    <div id="hero-wrapper">
    <figure class="enriched ">
        <figcaption>Photo&nbsp;- <a href="https://unsplash.com/photos/-N0cgDSF_MI">Kobi Li</a></figcaption>
        
       
       <img srcset="
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;fd9cec75a970c38f00.jpg 1920w,
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;bc53a992eae12b8000.jpg 3840w
              "
              sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px"
              src="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;fd9cec75a970c38f00.jpg"
              alt="Photo" />
    </figure>
</div>

    <header>
    <div class="content">
        <h1 id="main-title"><a id="main-link" href="https:&#x2F;&#x2F;hoverbear.org">
            OpenWRT QoS
        </a></h1>

        <nav id="tree"><ul><li>
            <a href="https://hoverbear.org/consulting/">
                Consulting Services
            </a>&nbsp;
        </li><li>
            <a href="https://hoverbear.org/about/">
                Ana, Hoverbear üêª
            </a>&nbsp;
        </li><li>
            <a href="https://hoverbear.org/blog/">
                Articles
            </a>&nbsp;
        </li></ul><ul></ul><ul></ul>
</nav>


        <div class="metadata">
            <h5 class="description">
                    A computer scientist working in open source towards a more hopeful future.
                </h5>

            <p class="date">
                    Posted on 2014-12-06, around 9 minutes of reading.
                </p>
        </div>
    </div>
</header>

    <main>
        
    <nav id=toc>
        <ol>
            
            <li>
                <a href="https://hoverbear.org/blog/openwrt-qos/#prerequisites">Prerequisites</a>
                
            </li>
            
            <li>
                <a href="https://hoverbear.org/blog/openwrt-qos/#overview">Overview</a>
                
                <ol>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#interfaces">Interfaces</a>
                    </li>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#rules">Rules</a>
                    </li>
                    
                </ol>
                
            </li>
            
            <li>
                <a href="https://hoverbear.org/blog/openwrt-qos/#classgroups">Classgroups</a>
                
                <ol>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#classes">Classes</a>
                    </li>
                    
                </ol>
                
            </li>
            
            <li>
                <a href="https://hoverbear.org/blog/openwrt-qos/#initial-configuration">Initial Configuration</a>
                
                <ol>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#aside-an-resolved-issue">Aside: An Resolved Issue</a>
                    </li>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#testing-it">Testing It</a>
                    </li>
                    
                </ol>
                
            </li>
            
            <li>
                <a href="https://hoverbear.org/blog/openwrt-qos/#experimentation">Experimentation</a>
                
                <ol>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#favoring-ports">Favoring Ports</a>
                    </li>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#limiting-a-class-rate">Limiting a Class Rate</a>
                    </li>
                    
                    <li>
                        <a href="https://hoverbear.org/blog/openwrt-qos/#priorities">Priorities</a>
                    </li>
                    
                </ol>
                
            </li>
            
            <li>
                <a href="https://hoverbear.org/blog/openwrt-qos/#further-configuration">Further Configuration</a>
                
            </li>
            
        </ol>
    </nav>

        <p>Using the setup from my <a href="/2014/11/23/openwrt-in-virtualbox/">last</a> <a href="/2014/12/03/vagrant-clients-for-openwrt-vms/">two</a> posts, let's play with some QoS parameters and observe the results.</p>
<blockquote>
<p>The <a rel="noopener" target="_blank" href="http://wiki.openwrt.org/doc/uci/qos">documentation</a> for OpenWRT's QoS is rather lacking, please feel encouraged to improve it as you go!</p>
</blockquote>
<span id="continue-reading"></span><h2 id="prerequisites">Prerequisites</h2>
<p>Documented <a rel="noopener" target="_blank" href="http://wiki.openwrt.org/doc/uci/qos">here</a>, the <code>qos-scripts</code> package offers a simple configuration that integrates well with the rest of OpenWRT's UCI (Unified Configuration Interface).</p>
<p>On the router:</p>
<pre class="z-code"><code><span class="z-text z-plain">opkg install qos-scripts
</span></code></pre>
<p>As an added side benefit, <code>qos-scripts</code> will pull in several dependencies that can be used to further tune our QoS.</p>
<h2 id="overview">Overview</h2>
<p>You can look into <code>/etc/config/qos</code> to see the default configuration.</p>
<p>You'll see several <code>config</code> block types. Let's take a look at samples.</p>
<h3 id="interfaces">Interfaces</h3>
<pre class="z-code"><code><span class="z-text z-plain">config interface wan
</span>    option classgroup  &quot;Default&quot;
</span>    option enabled      0
</span>    option upload       128
</span>    option download     1024
</span></code></pre>
<p>This is an <strong>interface</strong> definition for <code>wan</code>. <code>wan</code> is defined in <code>/etc/config/network</code>.</p>
<ul>
<li><code>option classgroup &quot;Default&quot;</code> defines that we'll use the classes defined in the <code>config classgroup &quot;Default&quot;</code> block also in the configuration file.</li>
<li><code>option enabled 0</code> defines that QoS is currently <strong>not</strong> enabled for the <code>wan</code> interface. Meaning this configuration currently doesn't do anything. If it's value was <code>1</code> it would be enabled.</li>
<li><code>option upload 128</code> defines that this interface should only be able to upload at a rate of <code>128</code> kilobits/second. (Only for TCP)</li>
<li><code>option download 1024</code> defines that this interface should only be able to download at a rate of <code>1024</code> kilobits/second.</li>
</ul>
<h3 id="rules">Rules</h3>
<pre class="z-code"><code><span class="z-text z-plain">config classify
</span>    option target       &quot;Priority&quot;
</span>    option ports        &quot;22,53&quot;
</span>    option comment      &quot;ssh, dns&quot;
</span>config classify
</span>    option target       &quot;Normal&quot;
</span>    option proto        &quot;tcp&quot;
</span>    option ports        &quot;20,21,25,80,110,443,993,995&quot;
</span>    option comment      &quot;ftp, smtp, http(s), imap&quot;
</span>config reclassify
</span>    option target       &quot;Priority&quot;
</span>    option proto        &quot;icmp&quot;
</span>config default
</span>    option target       &quot;Bulk&quot;
</span>    option portrange    &quot;1024-65535&quot;
</span></code></pre>
<p><code>classify</code> blocks are an <em>initial, connection-tracked classification</em>. They are only run on connections which have not been assigned a traffic class already.</p>
<p><code>reclassify</code> blocks can <em>override</em> the class on a <em>per packet</em> basis without altering the connection's classification.</p>
<p><code>default</code> blocks are fallbacks for everything that has not been marked by a <code>classify</code> or <code>reclassify</code>.</p>
<ul>
<li><code>option target &quot;Priority&quot;</code> means that any connections or packets under this block are placed in the specified class (in the interface's <code>classgroup</code>).</li>
<li><code>option ports &quot;22,53&quot;</code> means that this classifier will only work for connections on port 22 and 53.</li>
<li><code>option comment &quot;ssh,dns&quot;</code> is a comment about the purpose of the classifier.</li>
<li><code>option proto &quot;tcp&quot;</code> defines the protocol (<code>tcp</code>, <code>udp</code>, <code>icmp</code>, etc) that this classifier matches.</li>
<li><code>option pktsize &quot;-500&quot;</code> allows us to define a packetsize to match.</li>
</ul>
<p>If you're wondering, the <code>-</code> in <code>-500</code> operates <em>I think</em>, on the definition of the corresponding <code>class</code>.</p>
<h2 id="classgroups">Classgroups</h2>
<pre class="z-code"><code><span class="z-text z-plain">config classgroup &quot;Default&quot;
</span>	option classes      &quot;Priority Express Normal Bulk&quot;
</span>    option default      &quot;Normal&quot;
</span></code></pre>
<p><code>classgroup</code> blocks are used to define different class groupings. This is only really useful if you wish to have multiple interfaces with different class considerations, for example, you might want <code>eth1</code> to have an <code>ultrapriority</code> class or something.</p>
<h3 id="classes">Classes</h3>
<pre class="z-code"><code><span class="z-text z-plain">config class &quot;Priority&quot;
</span>    option packetsize  400
</span>    option avgrate     10
</span>    option priority    20
</span>config class &quot;Express&quot;
</span>    option packetsize  1000
</span>    option avgrate     50
</span>    option priority    10
</span>config class &quot;Normal&quot;
</span>    option packetsize  1500
</span>    option packetdelay 100
</span>    option avgrate     10
</span>    option priority    5
</span>config class &quot;Bulk&quot;
</span>    option avgrate     1
</span>    option packetdelay 200
</span></code></pre>
<p><code>class</code> blocks are used to define packet classes. Each class is placed inside of a seperate <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Leaky_bucket">bucket</a>.</p>
<ul>
<li><code>option packetsize 400</code> defines the size of packets within the bucket.</li>
<li><code>option maxsize 1000</code> defines the maximum size of the bucket. <em>(Probably, this isn't specified.)</em></li>
<li><code>option packetdelay 100</code> defines the delay of the packet, in ms.</li>
<li><code>option avgrate 50</code> defines <em>some undocumented</em> parameter in %.</li>
<li><code>option priority 20</code> is a percentile value specifying the bucket's priority.</li>
</ul>
<h1 id="initial-configuration">Initial Configuration</h1>
<p>As a reminder, here is the configuration of our setup.</p>
<figure class="enriched ">
        <figcaption>Our setup.</figcaption>
        
       
       <img srcset="
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;77a50aaa2d6726c500.jpg 1920w,
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;1c991b1cb56f45f200.jpg 3840w
              "
              sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px"
              src="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;77a50aaa2d6726c500.jpg"
              alt="Our setup." />
    </figure>
<p>First, we need to pull in <code>xt_connmark</code>, which is a depedency for some features of <code>qos-scripts</code>:</p>
<pre class="z-code"><code><span class="z-text z-plain">modprobe xt_connmark
</span></code></pre>
<p>Then, in <code>/etc/config/qos</code> replace the <code>wan</code> interface with our various defined interfaces with some modest and determinable differences to test that it works.</p>
<pre class="z-code"><code><span class="z-text z-plain"># INTERFACES:
</span># Fast client.
</span>config interface lan1
</span>        option classgroup  &quot;Default&quot;
</span>        option enabled      1
</span>        option upload       256
</span>        option download     2048
</span># Slow client. (1/2 speed)
</span>config interface lan2
</span>        option classgroup  &quot;Default&quot;
</span>        option enabled      1
</span>        option upload       128
</span>        option download     1024
</span># The Host. (Big pipes)
</span>config interface lan3
</span>        option classgroup  &quot;Default&quot;
</span>        option enabled      1
</span>        option upload       4096
</span>        option download     4096
</span></code></pre>
<p>To enable QoS and start it:</p>
<pre class="z-code"><code><span class="z-text z-plain">/etc/init.d/qos enable
</span>/etc/init.d/qos start
</span></code></pre>
<p>Later, to restart it:</p>
<pre class="z-code"><code><span class="z-text z-plain">/etc/init.d/qos restart
</span></code></pre>
<h4 id="aside-an-resolved-issue">Aside: An Resolved Issue</h4>
<blockquote>
<p>When I attempted to use the <code>pktsize</code> option in a classifier I recieved yet unresolved errors.</p>
</blockquote>
<p>The error was:</p>
<pre class="z-code"><code><span class="z-text z-plain">iptables: No chain/target/match by that name.
</span></code></pre>
<p>Inspecting the generated config:</p>
<pre class="z-code"><code><span class="z-text z-plain">/usr/lib/qos/generate.sh all
</span></code></pre>
<p>See the script executed along with output (for diagnosing errors):</p>
<pre class="z-code"><code><span class="z-text z-plain">/usr/lib/qos/generate.sh all | sh -x
</span></code></pre>
<p>Resulted in:</p>
<pre class="z-code"><code><span class="z-text z-plain"># ...
</span>+ iptables -t mangle -A qos_Default -m mark --mark 0/0xf0 -p udp -m length --length 500 -j MARK --set-mark 34/0xff
</span>iptables: No chain/target/match by that name.
</span># ...
</span></code></pre>
<p>I was only able to resolve this by removing the use of <code>pktsize</code> in classifiers then restarting the service.</p>
<h2 id="testing-it">Testing It</h2>
<p>Open up a terminal to use <code>vagrant ssh test1</code> and <code>test2</code> then, run the following command at approximately the same time (remember to sub in <code>$TEST3IP</code>):</p>
<pre class="z-code"><code><span class="z-text z-plain">wget $TEST3IP/video.mp4
</span></code></pre>
<p>You should see something like the following:</p>
<figure class="enriched ">
        <figcaption>In action.</figcaption>
        
       
       <img srcset="
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;9d3dc36849c70e1000.png 1920w,
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;11860cb74f0c680400.png 3840w
              "
              sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px"
              src="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;9d3dc36849c70e1000.png"
              alt="In action." />
    </figure>
<p>Feel free to cancel them at any time. We only care about the rate right now.</p>
<p>As you can see, <code>test1</code> recieved approximately twice the bandwidth of <code>test2</code>. Perfect, that's exactly what we wanted.</p>
<blockquote>
<p>Things will not always be exact as there are protocol overheads and other factors in our simulation.</p>
</blockquote>
<p>Before going on to more complicated experiments you may want to ensure that the rates are more fair.</p>
<h1 id="experimentation">Experimentation</h1>
<p>With our QoS system in place, what kind of experiments can we do to the network?</p>
<h2 id="favoring-ports">Favoring Ports</h2>
<p>Looking over the default configuration you can see the following config block:</p>
<pre class="z-code"><code><span class="z-text z-plain">config classify
</span>    option target       &quot;Priority&quot;
</span>    option ports        &quot;22,53&quot;
</span>    option comment      &quot;ssh, dns&quot;
</span></code></pre>
<p>Which match to the following class:</p>
<pre class="z-code"><code><span class="z-text z-plain">config class &quot;Priority&quot;
</span>    option packetsize  400
</span>    option avgrate     10
</span>    option priority    20
</span></code></pre>
<p>This suggests that all traffic over port 22 (The standard <code>ssh</code> default) will prioritized as it has the highest priority in the default configuration.</p>
<p>But what if you don't use port 22 for <code>ssh</code>? Then this is a silly rule.  You can easily just remap the ports option to <code>&quot;2222,53&quot;</code> or something else.</p>
<h2 id="limiting-a-class-rate">Limiting a Class Rate</h2>
<p>Say we'd like to gaurentee that one class of packets can only take up so much of the total limit of the connection.</p>
<p>First, lets get our <code>test3</code> VM serving off multiple ports so we can classify them differently.</p>
<p>In <code>/etc/nginx/nginx.conf</code> modify your listen block:</p>
<pre class="z-code"><code><span class="z-text z-plain">    server {
</span>      listen       80 default_server;
</span>      listen       8080; # Add this.
</span>      server_name  localhost;
</span>      root /vagrant;
</span>      # ...
</span></code></pre>
<p>Then run <code>sudo systemctl restart nginx</code>.</p>
<p>Back on the router, edit <code>/etc/config/qos</code> to add two new blocks, a <code>classify</code> block and a <code>class</code> block. Also make sure that your <code>lan1</code> and <code>lan2</code> interfaces have the same upload and download so we can use them to test.</p>
<pre class="z-code"><code><span class="z-text z-plain">config classify
</span>	option target  &quot;httpdev&quot;
</span>    option ports   &quot;8080&quot;
</span>    option comment &quot;httpdev&quot;
</span>config class &quot;httpdev&quot;
</span>	option packetsize  1500
</span>    option packetdelay 100
</span>    option limitrate   10
</span>    option priority    5
</span></code></pre>
<p>Then in the <code>classroup &quot;Default&quot;</code> add <code>httpdev</code> to the classes.</p>
<p>Finally, restart the QoS:</p>
<pre class="z-code"><code><span class="z-text z-plain">/etc/init.d/qos reload
</span></code></pre>
<p>Then get <code>test1</code> to download from port 80, and <code>test2</code> to download from port 8080.</p>
<figure class="enriched ">
        <figcaption>httpdev</figcaption>
        
       
       <img srcset="
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;0b1b78c5fd4878f500.png 1920w,
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;433bace6b3c3d41200.png 3840w
              "
              sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px"
              src="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;0b1b78c5fd4878f500.png"
              alt="httpdev" />
    </figure>
<p>Attempting to download on port 8080 only resulted in recieving 10% of the available bandwidth, where on port 80 it was able to use the entire link.</p>
<h2 id="priorities">Priorities</h2>
<p>Instead of placing a hard limit on the rate a class can achieve, let's instead change the priority it recieves.</p>
<p>On the router, edit <code>/etc/config/qos</code>, change the <code>Normal</code> class to have a <code>50</code> priority, while leaving <code>httpdev</code> on <code>5</code>.</p>
<pre class="z-code"><code><span class="z-text z-plain">config class &quot;Normal&quot;
</span>    option packetsize  1500
</span>    option packetdelay 100
</span>    option avgrate     10
</span>    option priority    50
</span></code></pre>
<p>Then issue <code>/etc/init.d/qos reload</code>. To test this, <strong>on one of the <code>test1</code> or <code>test2</code></strong> open two connections and attempt to download from both ports.</p>
<figure class="enriched ">
        <figcaption>Priorities.</figcaption>
        
       
       <img srcset="
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;622b0887d1f0e96000.png 1920w,
              https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;e5183532280e200200.png 3840w
              "
              sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px"
              src="https:&#x2F;&#x2F;hoverbear.org&#x2F;processed_images&#x2F;622b0887d1f0e96000.png"
              alt="Priorities." />
    </figure>
<p>Here I ran two tests, one with downloads on different ports, one with them on the same. Notice how the <code>8080</code> download is much slower while there is a download on port <code>80</code> happening, but while both at on port <code>80</code> they're nearly the same <em>(except that I couldn't stop both at the same time so the second one I stopped was reading higher then before, they were both in the teens).</em></p>
<p>A lone download on port <code>8080</code> (and thus of the <code>httpdev</code> class) would still be fast if there is no other traffic in the <code>normal</code> class, though.</p>
<h1 id="further-configuration">Further Configuration</h1>
<p>While <code>qos-scripts</code> provides many simplier facilities for configuring Quality-of-Service in OpenWRT, it is certainly not the be all, end all.</p>
<p>You can also take a much more low-level and fine grained control of how things behave using standard Linux tools. After all, everything in <code>qos-scripts</code> is built off <code>iptables</code>, <code>tc</code>, and other standard tools.</p>
<p>Here are some links to explore further:</p>
<ul>
<li><a rel="noopener" target="_blank" href="http://wiki.openwrt.org/doc/howto/packet.scheduler/packet.scheduler">Network Traffic Control</a> - Configuring your kernel scheduler.</li>
<li><a rel="noopener" target="_blank" href="http://wiki.openwrt.org/doc/howto/netfilter">Netfilter</a> - Configuring <code>iptables</code> and other things.</li>
<li><a rel="noopener" target="_blank" href="http://wiki.openwrt.org/doc/howto/bwmon">Bandwidth Monitoring</a> - Keeping tabs on things.</li>
</ul>
<p><em>A special thanks to the Bergens Banen train for our test material. The cover image of this article is from the video.</em></p>

    </main>
    <footer class="post-footer">
    Connect through &nbsp<a href="mailto:operator@hoverbear.org">operator@hoverbear.org</a>,&nbsp;<a href="https://github.com/hoverbear">@hoverbear</a> on Github,&nbsp;<a href="https://twitter.com/a_hoverbear">@a_hoverbear</a> on Twitter,</a>&nbsp;
    or track via <a class="subscribe" href="https:&#x2F;&#x2F;hoverbear.org/rss.xml">RSS Feed</a>.
</footer>
<pre class="artifact"><a id="commit" href="https://github.com/Hoverbear/hoverbear.org/commit/79802a5675a5b8e17e6a67961c01fc42cc003520
">79802a5675a5b8e17e6a67961c01fc42cc003520
</a></pre></body>

</html>
