
<!-- Create a 'full' sized image. -->
{%- macro full(path, alt=false, colocated=false, source=false, photographer=false) -%}
       {%- if colocated == true -%}
              {%- set path = self::colocated_asset(path=path) | trim -%}
       {%- endif -%}
       {% set image_1920 = resize_image(path=path, width=1920, height=1080, op='fit_width') %}
       {% set image_3840 = resize_image(path=path, width=3840, height=2160, op='fit_width') %}
       <img srcset="
              {{ image_1920.url }} 1920w,
              {{ image_3840.url }} 3840w
              "
              sizes="
                     (max-width: 1200px) 1200px,
                     (max-width: 1800px) 1800px,set 
                     3840px"
              src="{{ image_1920.url }}"
              alt="{% if alt %}{{ alt }}{% endif %}" />
{%- endmacro full -%}

<!--
       Returns the file path of the colocated asset.

       When Zola uses `resize_image` it looks relative to the `content` folder.
       This means you have to reference the full page asset colocation path.
-->
{%- macro colocated_asset(path) -%}
       {%- set page_url_components = page.relative_path | default(value=section.relative_path) | split(pat='/') -%}
       {%- set page_base = page_url_components | slice(end=page_url_components | length - 1) | join(sep='/') -%}
       {{ page_base ~ '/' ~ path }}
{%- endmacro colocated_asset -%}